{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2017/07/09/virtual-browser","result":{"data":{"content":{"edges":[{"node":{"id":"6ca093ca-1f38-5e85-b5dc-fe1e709531d8","excerpt":"ランサムウェアとか怖いですよね。 多くの企業で大変問題になっているランサムウェアですが、最近は一般男性を語るランサムウェアもあり…　もうやめにしませんか。 img そんなことを言ってもやめてくれるような相手ではないのは、一般男性含め周知の事実ですので対策しましょう。 Table…","fields":{"slug":"2017/07/09/virtual-browser"},"frontmatter":{"id":null,"title":"仮想セキュリティブラウザというものを作った","slug":"2017/07/09/virtual-browser","date":"2017-07-09T04:26:08.214Z","headerImage":"https://i.imgur.com/Xi9UYsL.png","tags":["仮想化","仮想ブラウザ","KVM"]}}}]}},"pageContext":{"id":"6ca093ca-1f38-5e85-b5dc-fe1e709531d8","index":103,"repHtml":"<p>ランサムウェアとか怖いですよね。</p>\n<p>多くの企業で大変問題になっているランサムウェアですが、最近は一般男性を語るランサムウェアもあり…　もうやめにしませんか。</p>\n<p><img class=\"lozad\" src=\"data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7\" data-src=\"https://i.imgur.com/BdLL0YX.jpg\" alt=\"img\"></p>\n<p>そんなことを言ってもやめてくれるような相手ではないのは、一般男性含め周知の事実ですので対策しましょう。</p>\n<h2 id=\"table-of-contents\" style=\"position:relative;\"><a href=\"#table-of-contents\" aria-label=\"table of contents permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table of Contents</h2>\n<div class=\"toc\">\n<ul>\n<li><a href=\"#%E5%A4%9A%E3%81%8F%E3%81%AE%E4%BC%9A%E7%A4%BE%E3%81%A7%E5%B0%8E%E5%85%A5%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E4%BB%AE%E6%83%B3%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6\">多くの会社で導入されている仮想セキュリティブラウザ</a></li>\n<li><a href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AF%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98%E3%81%A7%E3%81%99\">実際はこんな感じです。</a></li>\n</ul>\n</div>\n<h2 id=\"多くの会社で導入されている仮想セキュリティブラウザ\" style=\"position:relative;\"><a href=\"#%E5%A4%9A%E3%81%8F%E3%81%AE%E4%BC%9A%E7%A4%BE%E3%81%A7%E5%B0%8E%E5%85%A5%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E4%BB%AE%E6%83%B3%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6\" aria-label=\"多くの会社で導入されている仮想セキュリティブラウザ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>多くの会社で導入されている仮想セキュリティブラウザ</h2>\n<p>仮想セキュリティブラウザとは、ローカルのブラウザを使わずに、仮想マシン上のブラウザを利用し、そこへリモートで画面転送し、万が一ウイルスに感染しても、</p>\n<p>ローカルPCもしくはLANに影響を与えないようにするものです。</p>\n<p><img class=\"lozad\" src=\"data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7\" data-src=\"https://i.imgur.com/Xi9UYsL.png\" alt=\"img\"></p>\n<p>イメージはこんな感じです。</p>\n<ol>\n<li>\n<p>仮想マシンが動く基盤をLAN内に設置</p>\n</li>\n<li>\n<p>DMZ用のVLANを作成する</p>\n</li>\n<li>\n<p>LAN内に入れないところ(DMZ)に仮想マシンを設置し、ウィンドウシステムとブラウザを入れる</p>\n</li>\n<li>\n<p>仮想マシンの画面をSpiceなどでアクセスすることで転送する。</p>\n</li>\n</ol>\n<p>我が家では仮想化基盤はKVMを使っています。KVMだと、各仮想マシンの画面を転送する方法として、Spiceを使うことができます。</p>\n<p>Spiceでは仮想マシン自体にリモデするわけではなく、基盤そばにアクセスすることで画面転送を実現できますので、たとえばネットワークから分離した仮想マシンの画面も転送できるわけです。</p>\n<p>（基盤へネットワークアクセスさえできればいい）</p>\n<p>この機能を応用してあらかじめ仮想マシンに別のVLANを割り当て、LAN内にアクセスできないようにしておきます。また、</p>\n<p>仮想マシン自体がインターネットにアクセスできるようにインターネットへの抜け道は設定しておきます。</p>\n<h2 id=\"実際はこんな感じです\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AF%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98%E3%81%A7%E3%81%99\" aria-label=\"実際はこんな感じです permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実際はこんな感じです。</h2>\n<p><img class=\"lozad\" src=\"data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7\" data-src=\"https://i.imgur.com/XLKBlIG.png\" alt=\"inm\"></p>\n<p>このようにSpiceの画面転送を見るRemoteViewerを利用しネットができます。</p>\n<p>最悪ウイルスに感染したとしてもLAN内には感染が広がりませんし、仮想マシンの削除だけで対処できます。</p>\n<p>画面の解像度等調整しないと転送コストで遅くなってしまいストレスに感じるかもなのでそこは工夫しましょう！</p>","words":867,"minutes":3}},"staticQueryHashes":["1319877725","2959249232"]}
{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2019/12/16/python-auto","result":{"data":{"content":{"edges":[{"node":{"id":"dda1215a-12a7-5cd1-9029-86c02f6e6bc0","excerpt":"システムのリリース実績を取る必要がでてきたものの、管理表にはしてなかったのでGitHub API v4から取得し、まとめましたというお話. Table of Contents 背景 GitHub API v4を使う なぜGraphQL…","fields":{"slug":"2019/12/16/python-auto"},"frontmatter":{"id":null,"title":"面倒なことはPythonにやらせよう@GitHub API v4を使ったリリース実績取得","slug":"2019/12/16/python-auto","date":"2019-12-15T23:30:57.397Z","headerImage":"https://i.imgur.com/kOEaC3q.png","tags":["Python","GitHub","GraphQL","GitHub API v4","リリース実績"]}}}]}},"pageContext":{"id":"dda1215a-12a7-5cd1-9029-86c02f6e6bc0","index":52,"repHtml":"<p>システムのリリース実績を取る必要がでてきたものの、管理表にはしてなかったので<strong>GitHub API v4</strong>から取得し、まとめましたというお話.</p>\n<h2 id=\"table-of-contents\" style=\"position:relative;\"><a href=\"#table-of-contents\" aria-label=\"table of contents permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table of Contents</h2>\n<div class=\"toc\">\n<ul>\n<li>\n<p><a href=\"#%E8%83%8C%E6%99%AF\">背景</a></p>\n</li>\n<li>\n<p><a href=\"#github-api-v4%E3%82%92%E4%BD%BF%E3%81%86\">GitHub API v4を使う</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%81%AA%E3%81%9Cgraphql%E3%82%92%E4%BD%BF%E3%82%8F%E3%81%AA%E3%81%84%E3%81%A8%E4%BC%9A%E7%A4%BE%E3%81%A7%E3%83%90%E3%82%AB%E3%81%AB%E3%81%95%E3%82%8C%E3%82%8B%E3%81%AE%E3%81%8B\">なぜGraphQLを使わないと会社でバカにされるのか</a></p>\n<ul>\n<li><a href=\"#%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%94%E3%81%A8%E3%81%ABapi%E3%82%92%E3%82%B3%E3%83%BC%E3%83%AB%E3%81%97%E3%81%AA%E3%81%8F%E3%81%A6%E3%81%84%E3%81%84\">リソースごとにAPIをコールしなくていい</a></li>\n<li><a href=\"#bff%E3%81%A8%E3%81%97%E3%81%A6%E4%BD%BF%E3%81%86%E3%81%93%E3%81%A8%E3%81%A7%E3%81%9F%E3%81%8F%E3%81%95%E3%82%93%E3%81%AE%E3%82%A8%E3%83%B3%E3%83%89%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E3%82%89%E3%81%AA%E3%81%8F%E3%81%A6%E3%82%88%E3%81%84\">BFFとして使うことでたくさんのエンドポイントを作らなくてよい</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#python%E3%81%A7%E3%81%AFrequests%E3%81%8C%E4%BE%BF%E5%88%A9%E3%81%A0%E3%82%88%E3%81%AD%E3%81%A3%E3%81%A6%E3%81%84%E3%81%86%E8%A9%B1\">PythonではRequestsが便利だよねっていう話</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E5%AE%9F%E7%B8%BE%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E9%A0%85%E7%9B%AE%E3%81%AF\">リリース実績に必要な項目は？</a></p>\n</li>\n<li>\n<p><a href=\"#%E7%B5%90%E8%AB%96\">結論</a></p>\n</li>\n</ul>\n</div>\n<h2 id=\"背景\" style=\"position:relative;\"><a href=\"#%E8%83%8C%E6%99%AF\" aria-label=\"背景 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>背景</h2>\n<p>どうしてこんなことしなきゃいけなくなったかというとちょっとした頼まれごときっかけです。</p>\n<p>ふつうシステムをリリースするとリリース管理というリリース日やリリースの内容などをまとめておく管理表があって然るべきなんですが、それがまとまっていなくて困った！なんとかしてというものでした。</p>\n<p>困りましたね…。</p>\n<p>ただ、我々のソースはGitHubで管理していて、かならず**<a href=\"https://nvie.com/posts/a-successful-git-branching-model/\" target=\"_blank\" rel=\"noopener noreferrer\">Git-flow</a>**というブランチ戦略を取っているのでPRやコミットの履歴を集めればええやんけ！となったわけです。</p>\n<p><img class=\"lozad\" src=\"data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7\" data-src=\"https://i.imgur.com/qj5McGT.png\" alt=\"Git-flow\"></p>\n<p>上記の通りProduction環境へのリリースはmasterブランチから行います。</p>\n<h2 id=\"github-api-v4を使う\" style=\"position:relative;\"><a href=\"#github-api-v4%E3%82%92%E4%BD%BF%E3%81%86\" aria-label=\"github api v4を使う permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHub API v4を使う</h2>\n<p>このブログだと2回目の取り上げになりますが、GitHubのAPIには2種類あります。</p>\n<p><a href=\"https://developer.github.com/v3/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub API v3 (RestAPI)</a>と<a href=\"https://developer.github.com/v4/\" target=\"_blank\" rel=\"noopener noreferrer\">v4(GraphQL)</a>です。</p>\n<p>もちろん使い慣れたRestAPIを使ってもいいのですが、GraphQLくらい使えないと会社でバカにされそうなので<strong>GraphQL</strong>を使うことにします。</p>\n<h2 id=\"なぜgraphqlを使わないと会社でバカにされるのか\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%9Cgraphql%E3%82%92%E4%BD%BF%E3%82%8F%E3%81%AA%E3%81%84%E3%81%A8%E4%BC%9A%E7%A4%BE%E3%81%A7%E3%83%90%E3%82%AB%E3%81%AB%E3%81%95%E3%82%8C%E3%82%8B%E3%81%AE%E3%81%8B\" aria-label=\"なぜgraphqlを使わないと会社でバカにされるのか permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なぜGraphQLを使わないと会社でバカにされるのか</h2>\n<p>ちょっと閑話休題。</p>\n<p>最近流行ってますね。GraphQL。</p>\n<p>こういった新しい技術は会社の若い人たちがどんどん使っていくので追いつくのに必死です。</p>\n<p>APIサービスを提供する人も使う人両者からみてRESTよりはいいところがあるから流行るわけですがどういった点でしょうか？</p>\n<h3 id=\"リソースごとにapiをコールしなくていい\" style=\"position:relative;\"><a href=\"#%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%94%E3%81%A8%E3%81%ABapi%E3%82%92%E3%82%B3%E3%83%BC%E3%83%AB%E3%81%97%E3%81%AA%E3%81%8F%E3%81%A6%E3%81%84%E3%81%84\" aria-label=\"リソースごとにapiをコールしなくていい permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>リソースごとにAPIをコールしなくていい</h3>\n<p>利用側からするとこれが一番大きいのではないでしょうか？</p>\n<p>ちょっと複雑なAPIになるとアルアルなのが、</p>\n<p><strong>記事情報API</strong>から<strong>コメントID</strong>を取得して、<strong>コメントID</strong>を使って<strong>コメントAPI</strong>を叩いて、結果から<strong>ユーザーID</strong>をとって<strong>ユーザーID</strong>を使って<strong>ユーザーAPI</strong>から……</p>\n<p>どんだけリクエストするんや…と。</p>\n<p>GraphQLなら自分が必要な項目を必要なだけ取得できます。</p>\n<h3 id=\"bffとして使うことでたくさんのエンドポイントを作らなくてよい\" style=\"position:relative;\"><a href=\"#bff%E3%81%A8%E3%81%97%E3%81%A6%E4%BD%BF%E3%81%86%E3%81%93%E3%81%A8%E3%81%A7%E3%81%9F%E3%81%8F%E3%81%95%E3%82%93%E3%81%AE%E3%82%A8%E3%83%B3%E3%83%89%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E3%82%89%E3%81%AA%E3%81%8F%E3%81%A6%E3%82%88%E3%81%84\" aria-label=\"bffとして使うことでたくさんのエンドポイントを作らなくてよい permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BFFとして使うことでたくさんのエンドポイントを作らなくてよい</h3>\n<p><a href=\"https://samnewman.io/patterns/architectural/bff/\" target=\"_blank\" rel=\"noopener noreferrer\">Backends For Frontends</a>な世界では、フロントエンドが使いやすい形式でさまざまな業務ロジックをGatewayしてあげることが求められます。</p>\n<p>GraphQLはまさに呼び手、つまりフロントエンドがデータの形式を決められるためにBFFとの親和性が高いと思います。</p>\n<h2 id=\"pythonではrequestsが便利だよねっていう話\" style=\"position:relative;\"><a href=\"#python%E3%81%A7%E3%81%AFrequests%E3%81%8C%E4%BE%BF%E5%88%A9%E3%81%A0%E3%82%88%E3%81%AD%E3%81%A3%E3%81%A6%E3%81%84%E3%81%86%E8%A9%B1\" aria-label=\"pythonではrequestsが便利だよねっていう話 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PythonではRequestsが便利だよねっていう話</h2>\n<p>タイトルの通り面倒なことはPythonに任せようなのでPythonで実装していくわけですが、Pythonには<strong>Requests</strong>という超便利ライブラリがあるのでこちらを使ってGraphQLコール部を作っていきます。</p>\n<p>次のような形で作るとGraphQLのリクエストができ、PythonのDictで結果を受け取ることができます。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">post</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"bearer \"</span> <span class=\"token operator\">+</span> token<span class=\"token punctuation\">}</span>\n <span class=\"token comment\"># tokenはbearer</span>\n    res <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span>endpoint<span class=\"token punctuation\">,</span> json<span class=\"token operator\">=</span>query<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># res.json()でJSONをPytnon Dict形式に</span></code></pre></div>\n<p>それでは早速、作っていきましょう。</p>\n<h2 id=\"リリース実績に必要な項目は\" style=\"position:relative;\"><a href=\"#%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E5%AE%9F%E7%B8%BE%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E9%A0%85%E7%9B%AE%E3%81%AF\" aria-label=\"リリース実績に必要な項目は permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>リリース実績に必要な項目は？</h2>\n<p>今回のリリース実績取得に当たって下記のものがリリース実績としてカウントするものとします。</p>\n<ul>\n<li>masterブランチへのPRで\n<ul>\n<li>マージされてるものが対象</li>\n<li>マージされずにCloseしているものは対象外</li>\n<li>マージ日がリリース日とする</li>\n<li>どんな変更が当たっているか後追いしたいのでPRに含まれるCommitのメッセージも添付する</li>\n<li>結果は標準出力とCSVで出す</li>\n</ul>\n</li>\n</ul>\n<p>さて、こちらを実現したソースがこちら。</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"python\"><pre style=\"counter-reset: linenumber 0\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> csv\n<span class=\"token keyword\">import</span> pytz\n<span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> datetime\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> os</span><span class=\"gatsby-highlight-code-line\"> </span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">from</span> os<span class=\"token punctuation\">.</span>path <span class=\"token keyword\">import</span> join<span class=\"token punctuation\">,</span> dirname</span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">from</span> dotenv <span class=\"token keyword\">import</span> load_dotenv</span><span class=\"gatsby-highlight-code-line\"></span><span class=\"gatsby-highlight-code-line\">dotenv_path <span class=\"token operator\">=</span> join<span class=\"token punctuation\">(</span>dirname<span class=\"token punctuation\">(</span>__file__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"../.env\"</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">load_dotenv<span class=\"token punctuation\">(</span>dotenv_path<span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\"> <span class=\"token comment\"># dotenv経由で環境変数取得</span></span><span class=\"gatsby-highlight-code-line\"></span>TOKEN <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"TOKEN\"</span><span class=\"token punctuation\">)</span>\nENDPOINT <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"ENDPOINT\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># token</span>\ntoken <span class=\"token operator\">=</span> TOKEN\n\n<span class=\"token comment\"># endpoint</span>\nendpoint <span class=\"token operator\">=</span> ENDPOINT\n\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token comment\"># If you want to search repo's in organization `org:hoge` instead of user:hoge</span></span><span class=\"gatsby-highlight-code-line\"></span><span class=\"gatsby-highlight-code-line\">get_master_pr <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token string\">\"query\"</span><span class=\"token punctuation\">:</span> <span class=\"token triple-quoted-string string\">\"\"\"</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">  query {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">  search(query: \"user:tubone24\", type: REPOSITORY, first: 100) {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">      pageInfo {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">      endCursor</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">      startCursor</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">    }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">    edges {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">      node {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">        ... on Repository {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">          name</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">          url</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">          pullRequests (first: 100){</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">            edges {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">            node {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              baseRefName</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              createdAt</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              closedAt</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              merged</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              mergedAt</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              mergedBy {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">                login</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              commits (first: 45){</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">                nodes {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">                  commit {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">                    message</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">                  }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">                }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              title</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              url</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              headRefName</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">              }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">            }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">            }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">          }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">        }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">    }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">  }</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token triple-quoted-string string\">  }</span></span><span class=\"token triple-quoted-string string\">  \"\"\"</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">post</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"bearer \"</span> <span class=\"token operator\">+</span> token<span class=\"token punctuation\">}</span>\n    res <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span>endpoint<span class=\"token punctuation\">,</span> json<span class=\"token operator\">=</span>query<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> res<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">!=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">raise</span> Exception<span class=\"token punctuation\">(</span><span class=\"token string\">\"failed : {}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\"></span><span class=\"gatsby-highlight-code-line\"></span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">def</span> <span class=\"token function\">iso_to_jst</span><span class=\"token punctuation\">(</span>iso_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></span><span class=\"gatsby-highlight-code-line\"> <span class=\"token comment\"># ISO8601(RFC3339)形式をJST %Y/%m/%d %H:%M:%Sに変換</span></span><span class=\"gatsby-highlight-code-line\">    dt <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></span><span class=\"gatsby-highlight-code-line\">        dt <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>strptime<span class=\"token punctuation\">(</span>iso_str<span class=\"token punctuation\">,</span> <span class=\"token string\">\"%Y-%m-%dT%H:%M:%SZ\"</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">        dt <span class=\"token operator\">=</span> pytz<span class=\"token punctuation\">.</span>utc<span class=\"token punctuation\">.</span>localize<span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>astimezone<span class=\"token punctuation\">(</span>pytz<span class=\"token punctuation\">.</span>timezone<span class=\"token punctuation\">(</span><span class=\"token string\">\"Asia/Tokyo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">except</span> ValueError<span class=\"token punctuation\">:</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span></span><span class=\"gatsby-highlight-code-line\">            dt <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>strptime<span class=\"token punctuation\">(</span>iso_str<span class=\"token punctuation\">,</span> <span class=\"token string\">\"%Y-%m-%dT%H:%M:%Sz\"</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">            dt <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span>astimezone<span class=\"token punctuation\">(</span>pytz<span class=\"token punctuation\">.</span>timezone<span class=\"token punctuation\">(</span><span class=\"token string\">\"Asia/Tokyo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token keyword\">except</span> ValueError<span class=\"token punctuation\">:</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token keyword\">pass</span></span>    <span class=\"token keyword\">if</span> dt <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span>\n    <span class=\"token keyword\">return</span> dt<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">\"%Y/%m/%d %H:%M:%S\"</span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\"></span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_csv_header</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"master_pr.csv\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"utf_8_sig\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n <span class=\"token comment\"># BOM付UTF-8</span>\n        writer <span class=\"token operator\">=</span> csv<span class=\"token punctuation\">.</span>writer<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span>\n        writer<span class=\"token punctuation\">.</span>writerow<span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">[</span>\n                <span class=\"token string\">\"Repository\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"Repository URL\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"PR#\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"PR Title\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"Target Branch\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"Merged By\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"Merged at\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"Created at\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"PR URL\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"Commit Msgs\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    create_csv_header<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    res <span class=\"token operator\">=</span> post<span class=\"token punctuation\">(</span>get_master_pr<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">.</span>dumps<span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> node <span class=\"token keyword\">in</span> res<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"search\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"edges\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        repo_name <span class=\"token operator\">=</span> node<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">]</span>\n        repo_url <span class=\"token operator\">=</span> node<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"url\"</span><span class=\"token punctuation\">]</span>\n        pr_count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">for</span> pr <span class=\"token keyword\">in</span> node<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"pullRequests\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"edges\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            base_ref_name <span class=\"token operator\">=</span> pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"baseRefName\"</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">if</span> base_ref_name <span class=\"token operator\">!=</span> <span class=\"token string\">\"master\"</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">continue</span>\n            head_ref_name <span class=\"token operator\">=</span> pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"headRefName\"</span><span class=\"token punctuation\">]</span>\n            created_at <span class=\"token operator\">=</span> iso_to_jst<span class=\"token punctuation\">(</span>pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"createdAt\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"merged\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n                pr_count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n                merged_at <span class=\"token operator\">=</span> iso_to_jst<span class=\"token punctuation\">(</span>pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"mergedAt\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                merged_by <span class=\"token operator\">=</span> pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"mergedBy\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"login\"</span><span class=\"token punctuation\">]</span>\n                pr_title <span class=\"token operator\">=</span> pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">]</span>\n                pr_url <span class=\"token operator\">=</span> pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"url\"</span><span class=\"token punctuation\">]</span>\n                commit_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n                    x<span class=\"token punctuation\">[</span><span class=\"token string\">\"commit\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"message\"</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> pr<span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"commits\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"nodes\"</span><span class=\"token punctuation\">]</span>\n                <span class=\"token punctuation\">]</span>\n                <span class=\"token keyword\">if</span> pr_count <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>\n                        <span class=\"token string\">\"{repo_name}:  {repo_url}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>\n                            repo_name<span class=\"token operator\">=</span>repo_name<span class=\"token punctuation\">,</span> repo_url<span class=\"token operator\">=</span>repo_url\n                        <span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token string\">\"  #{pr_count} {pr_title} for {head_ref_name} by {merged_by} at {merged_at}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>\n                        pr_count<span class=\"token operator\">=</span>pr_count<span class=\"token punctuation\">,</span>\n                        pr_title<span class=\"token operator\">=</span>pr_title<span class=\"token punctuation\">,</span>\n                        head_ref_name<span class=\"token operator\">=</span>head_ref_name<span class=\"token punctuation\">,</span>\n                        merged_by<span class=\"token operator\">=</span>merged_by<span class=\"token punctuation\">,</span>\n                        merged_at<span class=\"token operator\">=</span>merged_at<span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"        {pr_url}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>pr_url<span class=\"token operator\">=</span>pr_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"master_pr.csv\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"utf_8_sig\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n                    writer <span class=\"token operator\">=</span> csv<span class=\"token punctuation\">.</span>writer<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span>\n                    writer<span class=\"token punctuation\">.</span>writerow<span class=\"token punctuation\">(</span>\n                        <span class=\"token punctuation\">[</span>\n                            repo_name<span class=\"token punctuation\">,</span>\n                            repo_url<span class=\"token punctuation\">,</span>\n                            pr_count<span class=\"token punctuation\">,</span>\n                            pr_title<span class=\"token punctuation\">,</span>\n                            head_ref_name<span class=\"token punctuation\">,</span>\n                            merged_by<span class=\"token punctuation\">,</span>\n                            merged_at<span class=\"token punctuation\">,</span>\n                            created_at<span class=\"token punctuation\">,</span>\n                            pr_url<span class=\"token punctuation\">,</span>\n                            <span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>commit_list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>TOKENとENDPOINTは.envファイルから取得するようにしてます。</p>\n<p>また、GitHubのAPIから帰ってくる時刻は**ISO8601(RFC3339)**形式なのでJSTに変換してます。</p>\n<p>細かいですが、<strong>CSVはUTF-8</strong>で作成するところ、Excelで開けるように<strong>BOM付UTF-8</strong>にしてます。</p>\n<p>print文が残念なかんじですね。今回は急ぎ作ってしまいましたが、今後ちょっとリファクタします。</p>\n<h2 id=\"結論\" style=\"position:relative;\"><a href=\"#%E7%B5%90%E8%AB%96\" aria-label=\"結論 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>結論</h2>\n<p>急ぎの依頼でしたが楽しくプログラミングできました。</p>\n<p>Terminalでこんな感じで出ます。</p>\n<p><img class=\"lozad\" src=\"data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7\" data-src=\"https://i.imgur.com/kOEaC3q.png\" alt=\"terminal\"></p>\n<p>集計用のCSVもばっちりです。</p>\n<p><img class=\"lozad\" src=\"data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7\" data-src=\"https://i.imgur.com/CyagH52.png\" alt=\"csv\"></p>\n<p>今回はレポジトリが100件未満だったので特にベージネーションをしてませんが次はベージネーションも実装しようかと思います。</p>","words":1888,"minutes":5}},"staticQueryHashes":["1319877725","2959249232"]}
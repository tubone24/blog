---
slug: 2017/07/09/virtual-browser
title: 仮想セキュリティブラウザというものを作った
date: 2017-07-09T04:26:08.214Z
description: 仮想セキュリティブラウザというものを作った
tags:
  - 仮想化
  - 仮想ブラウザ
  - KVM
headerImage: https://i.imgur.com/Xi9UYsL.png
templateKey: blog-post
---
ランサムウェアとか怖いですよね。

多くの企業で大変問題になっているランサムウェアですが、対策していきましょう。

## Table of Contents

```toc

```

## 多くの会社で導入されている仮想セキュリティブラウザ

仮想セキュリティブラウザとは、ローカルのブラウザを使わずに、仮想マシン上のブラウザを利用し、そこへリモートで画面転送し、万が一ウイルスに感染しても、

ローカルPCもしくはLANに影響を与えないようにするものです。

![img](https://i.imgur.com/Xi9UYsL.png)

イメージはこんな感じです。

1. 仮想マシンが動く基盤をLAN内に設置

2. DMZ用のVLANを作成する

3. LAN内に入れないところ(DMZ)に仮想マシンを設置し、ウィンドウシステムとブラウザを入れる

4. 仮想マシンの画面をSpiceなどでアクセスすることで転送する。

我が家では仮想化基盤はKVMを使っています。KVMだと、各仮想マシンの画面を転送する方法として、Spiceを使うことができます。

Spiceでは仮想マシン自体にリモデするわけではなく、基盤そばにアクセスすることで画面転送を実現できますので、たとえばネットワークから分離した仮想マシンの画面も転送できるわけです。

（基盤へネットワークアクセスさえできればいい）

この機能を応用してあらかじめ仮想マシンに別のVLANを割り当て、LAN内にアクセスできないようにしておきます。また、

仮想マシン自体がインターネットにアクセスできるようにインターネットへの抜け道は設定しておきます。

## 実際はこんな感じです。

![inm](https://i.imgur.com/XLKBlIG.png)

このようにSpiceの画面転送を見るRemoteViewerを利用しネットができます。

最悪ウイルスに感染したとしてもLAN内には感染が広がりませんし、仮想マシンの削除だけで対処できます。

画面の解像度等調整しないと転送コストで遅くなってしまいストレスに感じるかもなのでそこは工夫しましょう！

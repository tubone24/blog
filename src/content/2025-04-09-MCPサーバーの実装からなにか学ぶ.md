---
slug: 2025-04-09/MCPサーバーの実装からなにか学ぶ
title: "MCPサーバーの実装からなにか学ぶ"
date: 2025-04-09T05:55:24+0000
description: MCPサーバーの実装からなにか学ぶ
tags:
  - fixme
headerImage: https://i.imgur.com/QmIHfeR.jpg
templateKey: blog-post
---

MCPってなんだよって思ってました。

## Table of Contents

```toc

```

## ビッグウェーブになっている

こんにちは。

MCPの急なバズリに乗っかろうということで急遽会社でLTをする運びになりました。

<iframe width="560" height="315" src="https://www.youtube.com/embed/Daew0TUEmR4?si=s6VxpGccEzeCNd-2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

登壇資料はこちらです。

<iframe src="https://slide-tubone24.pages.dev/embed/cline/1" width="100%" height="500" style="border:none;max-width:800px;" allowfullscreen></iframe>

LT内で紹介させていただいたコードがこちらです。

![github](https://opengraph.githubassets.com/aaca45dff26983f4d8e13ed433761b5970964ad2721930165b126b25dce80ce6/tubone24/midi-mcp-server)(https://github.com/tubone24/midi-mcp-server)

今回はこちらのLTの内容を改めて深堀りしていければと思います。

## アスパラは嫌いです

今回のLTでは時間がなかったので省略しましたが、アスパラが嫌いです。

なんか、木の味(そんなに食べたことない)しませんか...?春になると飲食店はここぞとばかりに「アスパラとxxxのパスタ」的なメニューを出してくるのでうんざりしてます。

## MCPとは？

MCP（Model Context Protocol）とはUSB-Cのようなものです。（キリッ）

というなんか抽象度の上がる説明はなしにして、改めてMCPというものの理解を深めていきましょう。

LT会の中でプレゼンありましたが、同僚のみのるんさんのこちらの資料は入門としてとてもわかり易いのでぜひご一読を。

https://speakerdeck.com/minorun365/yasasiimcpru-men

### なぜMCPが必要なのか議論

MCPが個人的にわかりにくいのが「なぜMCPなのか」が、「誰」向けの話なのか、ここがゴチャつくことだと思ってます。

一定AIエージェント開発をやってきている開発者からすると、Tool UseやFunction Callingでのツール実装との差分がわからないところもありますし、ResourceというMCPの主要コンポーネントがRAG的な文脈とごっちゃになって語られることもあったりして、かなりややこしいです。

USB-Cという表現も相まってとても混沌とした理解の沼に落とし込む現況のような気がしています。

### 標準規格の重要性とそこから始まる技術トレンドについて

私個人としてはWiFiが似たような文脈と思ってます。

無線技術を使って他のデバイスと通信をする、というコンセプトがあったとき、WaveLANとかHiperLANとかその昔は様々な規格が各ベンダーから提案されておりそれぞれ互換性にかけるものでした。

でも他のデバイスと通信するときに互換性のない規格が乱立すると、様々な人が困ると思います。

- デバイスをつくる人: いろんなベンダーの規格を取り込んだ無線チップを作らなきゃ...。受け取った通信を判別して規格を切り替える仕組みも作らなきゃ...。新しく作られた規格にアップデートしなきゃ...。
- デバイスを利用する人: 結局やりたいのは煩わしいケーブルを無くしたいだけなのに、互換性を意識しなきゃいけない。安定にするには同じベンダーで揃えなきゃ...。というより、今買っていいのかな..?最新の機器と繋がらなくならないかな...。

それを解決する標準化こそWifi（IEEE 802.11）であり、まさに同じ問題がLLMの文脈でも発生したということです。

AIエージェントを開発するとき、ツールという形でLLMと外界をつなげてその性能を引き出す、Function CallingやTool Useと言った各LLMモデルベンダーから出ている技術を使ってその性能を飛躍的に向上させてきました。

しかしながら結局のところ、LLMと外界のインターフェースとして機能するそれらの技術も各ベンダーによって異なるところが

- AIエージェントアプリをつくる人: やりたいことは一緒なのにLLMのモデルによってツールの呼び出し方をかえるの面倒だな...。しかもツール自体の開発も必要だしそれもめんどくさいな
- AIエージェントアプリを使う人: このAIエージェントアプリはOpenAI専用か...。うちはBedrock使っているんだけどな....。

### なぜUSBじゃなくてUSB-Cなのか

統合性と万能性:

USB-C: 1つのコネクタで電力供給、データ転送、映像出力など複数の機能を統合

MCP: 1つのプロトコルで様々なデータソース、ツール、サービスとの接続を統合

進化したスタンダード:

USB-C: 従来のUSB-A/Bなど複数の異なるコネクタを置き換えた「次世代」コネクタ

MCP: 既存の個別統合方式を置き換える「次世代」AIプロトコル

双方向性と柔軟性:

USB-C: 上下の区別がなく（リバーシブル）、接続がシンプル

MCP: クライアント・サーバー間で双方向通信が可能で、様々な機能タイプに対応

普遍性と将来性:

USB-C: スマートフォン、タブレット、ノートPCなど幅広いデバイスで採用

MCP: 様々なAIモデルとツール間の普遍的な接続方法として設計




---
slug: 2025-10-29/AP2に入門する
title: "AP2に入門する"
date: 2025-10-29T04:00:20+0000
description: AP2(Agent Payments Protocol)に入門してみます。
tags:
  - fixme
headerImage: https://i.imgur.com/QmIHfeR.jpg
templateKey: blog-post
---

お久しぶりです。

## Table of Contents

```toc

```

## すごいせっかちな人向けに

デモアプリを作ってみました。

## AP2に入門してみたくなった。

突然ですが、育休を取っているのですが、なにか新しい技術を学んでおかないと復帰後不安で押しつぶされそうなので、重い腰をあげてAP2([Agent Payments Protocol](https://ap2-protocol.org/))に入門しようと思います。

どうにも生成AIの世界は謎のプロトコルが次々とでてくる...。この前MCPに入門したと思ったら、A2A、そしてAP2...。困りましたね。

AP2とは、Googleによると

> 主要な決済企業やテクノロジー企業と共同で開発されたオープン プロトコルで、プラットフォームをまたいでエージェント主導の決済を安全に開始、実行するもの

とのことで、要はAIエージェントを絡めたお買い物、決済を考えたときに起こり得る様々な不都合や問題をうまい具合に解決する仕組みです。

そもそもAIエージェントを用いたお買い物で起こり得る問題ってなんでしょうか。

## まず人間の買い物を想像してみましょう

AP2を考える前に、まずは人間の買い物を想像してみましょう。

![a](https://i.imgur.com/hvUOvHi.png)

Aさんは「かわいい犬のグッズ」がほしいな〜と思っているとします。ちなみに「『かわいい犬のグッズ』がほしいな〜」という気持ち(意図)のことをAP2では、Intentといいます。

しばらく歩いていると、「むぎぼーショップ」というかわいい柴犬をモチーフにしたお店を発見しました。入ってみましょう。

「むぎぼーショップ」は店員さんがとても優秀で、お客様の気持ちによりそった最適な商品を提示してくれるお店でした。細かい要望を伝えると、在庫を確認した後予算内でいくつか商品をピックアップしてくれました。（おすすめセットのリストを作ってくれました）

![a](https://i.imgur.com/E2feFkd.png)

Aさんもおすすめセットに納得したようで支払い手続きに進みます。

![a](https://i.imgur.com/dXUyJlg.png)

## その買い物、私がしたんじゃない....

とあるシチュエーションを考えます。Aさんがかわいい犬のグッズを欲しがっているとします。そこで、その購入を賢いAIエージェントにお願いするとしましょう。


name: OWASP ZAP Actions
on:
  workflow_dispatch:
  push:
jobs:
  website-scan:
    runs-on: ubuntu-latest
    name: DAST (Dynamic Application Security Testing)
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Action Full Scan
        run: |
          docker-compose -f owasp/docker-compose-ci.yml up -d
          docker-compose -f owasp/docker-compose-ci.yml exec owasp zap-full-scan.py -t http://web:9000 -r report.html -a -d -j -z "-config alert.maxInstances=0 -config view.locale=ja_JP"
